{"changed":true,"filter":false,"title":"thorfile.rb","tooltip":"/lib/tasks/thorfile.rb","value":"class JSONTasks < Thor\n  include Core::Pro::ProjectScopedTask if defined?(::Core::Pro)\n\n  namespace \"dradis:plugins:json\"\n\n  desc \"export\", \"export issues to a JSON file\"\n  def export\n    require 'config/environment'\n\n    logger = Logger.new(STDOUT)\n    logger.level = Logger::DEBUG\n    content_service = nil\n\n\n    if defined?(Dradis::Pro)\n      detect_and_set_project_scope\n      content_service = 'Dradis::Pro::Plugins::ContentService'\n    else\n      content_service = 'Dradis::Plugins::ContentService'\n    end\n\n    json = Dradis::Plugins::JSON::Exporter.new.export({\n      content_service: content_service\n    })\n\n    filename = \"dradis_report-#{Time.now.to_i}.json\"\n    File.open(filename, 'w') { |f| f.write json }\n\n    logger.info \"File written to ./#{ filename }\"\n\n    logger.close\n  end\n\nend\n","undoManager":{"mark":-2,"position":33,"stack":[[{"start":{"row":0,"column":6},"end":{"row":0,"column":9},"action":"remove","lines":["CSV"],"id":2},{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"insert","lines":["J"]}],[{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"insert","lines":["S"],"id":3}],[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"insert","lines":["O"],"id":4}],[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"insert","lines":["N"],"id":5}],[{"start":{"row":3,"column":28},"end":{"row":3,"column":29},"action":"insert","lines":["j"],"id":6}],[{"start":{"row":3,"column":29},"end":{"row":3,"column":30},"action":"insert","lines":["s"],"id":7}],[{"start":{"row":3,"column":30},"end":{"row":3,"column":31},"action":"insert","lines":["o"],"id":8}],[{"start":{"row":3,"column":31},"end":{"row":3,"column":32},"action":"insert","lines":["n"],"id":9}],[{"start":{"row":3,"column":32},"end":{"row":3,"column":33},"action":"remove","lines":["c"],"id":10}],[{"start":{"row":3,"column":32},"end":{"row":3,"column":33},"action":"remove","lines":["s"],"id":11}],[{"start":{"row":3,"column":32},"end":{"row":3,"column":33},"action":"remove","lines":["v"],"id":12}],[{"start":{"row":5,"column":37},"end":{"row":5,"column":40},"action":"remove","lines":["CSV"],"id":13},{"start":{"row":5,"column":37},"end":{"row":5,"column":38},"action":"insert","lines":["J"]}],[{"start":{"row":5,"column":38},"end":{"row":5,"column":39},"action":"insert","lines":["S"],"id":14}],[{"start":{"row":5,"column":39},"end":{"row":5,"column":40},"action":"insert","lines":["O"],"id":15}],[{"start":{"row":5,"column":40},"end":{"row":5,"column":41},"action":"insert","lines":["N"],"id":16}],[{"start":{"row":21,"column":27},"end":{"row":21,"column":30},"action":"remove","lines":["CSV"],"id":17},{"start":{"row":21,"column":27},"end":{"row":21,"column":28},"action":"insert","lines":["J"]}],[{"start":{"row":21,"column":28},"end":{"row":21,"column":29},"action":"insert","lines":["S"],"id":18}],[{"start":{"row":21,"column":29},"end":{"row":21,"column":30},"action":"insert","lines":["O"],"id":19}],[{"start":{"row":21,"column":30},"end":{"row":21,"column":31},"action":"insert","lines":["N"],"id":20}],[{"start":{"row":25,"column":49},"end":{"row":25,"column":50},"action":"remove","lines":["v"],"id":21}],[{"start":{"row":25,"column":48},"end":{"row":25,"column":49},"action":"remove","lines":["s"],"id":22}],[{"start":{"row":25,"column":47},"end":{"row":25,"column":48},"action":"remove","lines":["c"],"id":23}],[{"start":{"row":25,"column":47},"end":{"row":25,"column":48},"action":"insert","lines":["j"],"id":24}],[{"start":{"row":25,"column":48},"end":{"row":25,"column":49},"action":"insert","lines":["s"],"id":25}],[{"start":{"row":25,"column":49},"end":{"row":25,"column":50},"action":"insert","lines":["o"],"id":26}],[{"start":{"row":25,"column":50},"end":{"row":25,"column":51},"action":"insert","lines":["n"],"id":27}],[{"start":{"row":26,"column":43},"end":{"row":26,"column":46},"action":"remove","lines":["csv"],"id":28},{"start":{"row":26,"column":43},"end":{"row":26,"column":44},"action":"insert","lines":["j"]}],[{"start":{"row":26,"column":44},"end":{"row":26,"column":45},"action":"insert","lines":["s"],"id":29}],[{"start":{"row":26,"column":45},"end":{"row":26,"column":46},"action":"insert","lines":["o"],"id":30}],[{"start":{"row":26,"column":46},"end":{"row":26,"column":47},"action":"insert","lines":["n"],"id":31}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":7},"action":"remove","lines":["csv"],"id":32},{"start":{"row":21,"column":4},"end":{"row":21,"column":5},"action":"insert","lines":["j"]}],[{"start":{"row":21,"column":5},"end":{"row":21,"column":6},"action":"insert","lines":["s"],"id":33}],[{"start":{"row":21,"column":6},"end":{"row":21,"column":7},"action":"insert","lines":["o"],"id":34}],[{"start":{"row":21,"column":7},"end":{"row":21,"column":8},"action":"insert","lines":["n"],"id":35}]]},"ace":{"folds":[],"scrolltop":60,"scrollleft":0,"selection":{"start":{"row":19,"column":7},"end":{"row":19,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1458089335109}